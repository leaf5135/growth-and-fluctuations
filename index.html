<!DOCTYPE html>
<html>
<head>
<title>Beta Release</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- CSS -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" id="theme-style">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style.css">

<!--  Libraries -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://colorbrewer2.org/export/colorbrewer.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js"></script>
<script src="https://unpkg.com/scrollama"></script>

<!-- Graphs -->
<script type="module" src="world-map/script.js"></script>
<script type="module" src="streamgraph/script.js"></script>
<script type="module" src="multiline/script.js"></script>
<script type="module" src="bar-seq/script.js"></script>
<script type="module" src="bar-div/script.js"></script>
<script type="module" src="line/script.js"></script>
<script type="module" src="scatterplot/script.js"></script>
</head>
<body>
<div class="tooltip"></div>

 <!-- Navbar (sit on top) -->
 <div class="w3-top w3-black">
  <div class="w3-bar" id="myNavbar">
    <a href="#home" class="w3-bar-item w3-button">HOME</a>
    <a href="#about" class="w3-bar-item w3-button w3-hide-small">ABOUT</a>
    <a href="#gdp" class="w3-bar-item w3-button w3-hide-small">GDP</a>
    <a href="#trade" class="w3-bar-item w3-button w3-hide-small">IMPORT/EXPORT</a>
    <a href="#indicators" class="w3-bar-item w3-button w3-hide-small">INDICATORS</a>
  </div>
</div>

<!-- Home -->
<div class="bgimg-1 w3-display-container w3-opacity-min" id="home">
    <div class="w3-display-middle" style="white-space:nowrap; bottom: 0%;">
        <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">
            Growth and Fluctuations
        </span>
    </div>
    <div class="w3-display-middle" style="white-space:nowrap; bottom: 15%;">
        <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">
            A Visual Story of the U.S. Economy
        </span>
    </div>
    <div class="w3-display-middle" style="white-space:nowrap; bottom: 60%;">
        <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">
            by Andrew Diep
        </span>
    </div>
</div>

<!-- About -->
<div class="w3-content w3-container w3-padding-64" id="about">
    <h2 class="w3-center">What's this project about?</h2>
    <h3>Motivation</h3>
    <div class="m6 w3-hide-small w3-padding-large">
        <p>Welcome to my data viz website! In here, we will be exploring the vast landscape of the U.S. economy through the lens of data visualization. We all know that money plays a crucial role in shaping our world, and recent events such as the tech layoffs during the COVID-19 pandemic and the economic transformations in cities like San Francisco have captured my attention. I'm passionate about understanding how these economic shifts impact not only my life but also my community.</p>
    </div>
    <h3>Purpose</h3>
    <div class="m6 w3-hide-small w3-padding-large">
        <p>Through thorough analysis of economic data and its historical trajectory, I aim to uncover meaningful patterns that can aid me in navigating future changes with greater insight. Given that economic insights are often communicated through visual representations, this project offers an exciting opportunity to deepen my understanding of both economics and data visualization techniques. Through my engaging narrative and immersive data visualizations, I aim to provide you with a comprehensive understanding of the US economy's evolution and dynamics over time.</p>
    </div>
    <h3>Features</h3>
    <div class="m6 w3-hide-small w3-padding-large">
        <p>We kick off by delving into the nation's Gross Domestic Product (GDP) over the past half-century, showcasing its growth trajectory through a visually rich streamgraph. Additionally, I provide a choropleth world map depicting GDP per capita, allowing you to contextualize the US economy within the global landscape.<br><br>Continuing our exploration, I delve into the dynamics of imports and exports using a comprehensive multiline chart. Through paired bar charts featuring sequential color schemes, I dissect major categories of imports and exports for specific years, offering insights into trade patterns and trends.<br><br>Transitioning to the realm of inflation, I present a diverging bar chart showcasing historical inflation rates. By aligning these rates with significant historical events, you gain a deeper understanding of the economic forces at play.<br><br>Furthermore, I investigate unemployment rates, drawing correlations between unemployment and inflationâ€”a commonly discussed economic relationship.<br><br>Last but not least, I unveil a scatterplot comparing inflation rates and unemployment rates, inviting you to explore the validity of the Phillips curve hypothesis, which posits an inverse relationship between inflation and unemployment.</p>
    </div>
    <h3>Data</h3>
    <div class="m6 w3-hide-small w3-padding-large">
        <p>All data utilized for this project has been meticulously sourced from <a href="https://usafacts.org/economy/" style="font-size: 20px; color: #8cff79;">usafacts.org</a>.</p>
    </div>
    <h3>Click on a section from the navbar or start scrolling to explore.</h3>
</div>

<!-- GDP -->
<div class="bgimg-2 w3-display-container w3-opacity-min" id="gdp">
    <div class="w3-display-middle" style="white-space:nowrap; bottom: 50%;">
        <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">
            How much money is the U.S. making?
        </span>
    </div>
</div>
<br><br><br><br><br><br>
<h3 style="text-align: center;">Average GDP per Capita by Country (1970-2017)</h3>
<svg id="world-map" width="1000" height="1200"></svg>
<br><br><br><br><br><br>
<h3 style="text-align: center;">U.S. GDP Components (1970 - 2020)</h3>
<div id="streamgraph"></div>


<!-- Trade -->
<div class="bgimg-3 w3-display-container w3-opacity-min" id="trade">
    <div class="w3-display-middle" style="white-space:nowrap; bottom: 50%;">
        <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">
            What are the ins and outs?
        </span>
    </div>
</div>

<br><br><br><br><br><br>
<h3 style="text-align: center;">U.S. Imports and Exports (2000 - 2021)</h3>
<div id="multiline"></div>
<br><br><br><br><br><br>
<h3 style="text-align: center;">Comparison of U.S. Goods Imports and Exports (1999-2021)</h3>
<div style="text-align: center;" id="year-dropdown"></div>
<div id="bar-seq"></div>

<!-- Indicators -->
<div class="bgimg-4 w3-display-container w3-opacity-min" id="indicators">
    <div class="w3-display-middle" style="white-space:nowrap; bottom: 50%;">
        <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">
            Is it getting better or worse?
        </span>
    </div>
</div>

<br><br><br><br><br><br>
<h3 style="text-align: center;">U.S. Inflation Rate (1914 - 2022)</h3>
<div id="bar-div"></div>
<br><br><br><br><br><br>
<h3 style="text-align: center;">U.S. Minimum Wage (1939 - 2023)</h3>
<div id="line"></div>
<br><br><br><br><br><br>
<h3 style="text-align: center;">U.S. Unemployment vs Inflation Rate (1947 - 2021)</h3>
<button id="toggleCurve">Toggle Curve</button>
<div id="scatterplot"></div>

<!-- Footer -->
<footer class="w3-center w3-black w3-padding-64">
  <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
  <div class="w3-xlarge w3-section">
    <i class="fa fa-github w3-hover-opacity"></i>
  </div>
</footer>

<script>
    // Smooth scrolling for navbar links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();

            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    const scroller = scrollama();

    scroller.setup({
        step: '.w3-content',
        offset: 0.5,
        // debug: true,
    })
    .onStepEnter(handleStepEnter);

    // Callback function to handle step enter event
    function handleStepEnter(response) {
        const sectionId = response.element.id;

        // Debug console log
        switch (sectionId) {
            case 'about':
                console.log('About section entered');
                break;
            case 'gdp':
                console.log('GDP section entered');
                break;
            case 'ports':
                console.log('Import/Export section entered');
                break;
            case 'indicators':
                console.log('Indicators section entered');
                break;
            default:
                break;
        }
    }
</script>
</body>
</html>
